"use strict";

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var notification = function notification() {
  var showBtn = document.querySelectorAll('.show-notification');
  var notifications = document.querySelectorAll('.notification');
  showBtn.forEach(function (e) {
    e.addEventListener('click', function () {
      notifications.forEach(function (e) {
        e.classList.add('active');
      });
    });
  });
};

var select = function select() {
  var current = document.querySelectorAll('.select__current');
  current.forEach(function (e) {
    e.addEventListener('click', function () {
      e.closest('.select').classList.toggle('active');
    });
  });
};

var faq = function faq() {
  var current = document.querySelectorAll('.faq__header-btn');
  current.forEach(function (e) {
    e.addEventListener('click', function () {
      e.closest('.faq').classList.toggle('active');
    });
  });
};

var Slider = /*#__PURE__*/function () {
  function Slider(rangeElements) {
    var _this = this;

    _classCallCheck(this, Slider);

    this.rangeElements = rangeElements; // Attach a listener to "change" event

    this.rangeElements.forEach(function (e) {
      e.addEventListener('input', _this.updateSlider.bind(_this));
    });
  } // Initialize the slider


  _createClass(Slider, [{
    key: "init",
    value: function init() {
      this.updateSlider();
    }
  }, {
    key: "generateBackground",
    value: function generateBackground(value, min, max) {
      var percentage = (value - min) / (max - min) * 100;
      return "linear-gradient(to right, #00da83, #00da83 ".concat(percentage, "%, #E6E8EC ").concat(percentage, "%, #E6E8EC 100%)");
    }
  }, {
    key: "updateSlider",
    value: function updateSlider(newValue) {
      var _this2 = this;

      this.rangeElements.forEach(function (e) {
        e.style.background = _this2.generateBackground(e.value, e.min, e.max);
      });
    }
  }]);

  return Slider;
}();

var rangeElements = document.querySelectorAll('.range-slider__range');

if (rangeElements) {
  var slider = new Slider(rangeElements);
  slider.init();
}

var sandwich = function sandwich() {
  var openBtn = document.querySelector('.sandwich__open-btn');
  var closeBtn = document.querySelector('.sandwich__close-btn');
  var wrapper = document.querySelector('.sandwich__main');
  var menu = document.querySelector('.sandwich__content');
  openBtn.addEventListener('click', function () {
    wrapper.classList.add('sandwich__main--active');
    menu.classList.add('sandwich__content--active');
  });
  closeBtn.addEventListener('click', function () {
    wrapper.classList.remove('sandwich__main--active');
    menu.classList.remove('sandwich__content--active');
  });
  wrapper.addEventListener('click', function (e) {
    if (e.target.dataset.sandwich === 'wrapper') {
      wrapper.classList.remove('sandwich__main--active');
      menu.classList.remove('sandwich__content--active');
    }
  });
};

(function () {
  // breakpoint where swiper will be destroyed
  // and switches to a dual-column layout
  var breakpoint = window.matchMedia('(min-width: 769px)'); // keep track of swiper instances to destroy later

  var mySwiper;

  var breakpointChecker = function breakpointChecker() {
    // if larger viewport and multi-row layout needed
    if (breakpoint.matches === true) {
      // clean up old instances and inline styles when available
      if (mySwiper !== undefined) mySwiper.destroy(true, true); // or/and do nothing
      // else if a small viewport and single column layout needed
    } else if (breakpoint.matches === false) {
      // fire small viewport version of swiper
      return sliderAdvantages();
    }
  };

  if (window.innerWidth <= 320 && mySwiper) {
    mySwiper.destroy(false);
  }

  var sliderAdvantages = function sliderAdvantages() {
    mySwiper = new Swiper('.stats-panel__container', {
      spaceBetween: 16,
      loop: true,
      slidesPerView: 1,
      breakpoints: {
        420: {
          slidesPerView: 2
        },
        660: {
          slidesPerView: 3
        }
      }
    });
  }; // keep an eye on viewport size changes


  breakpoint.addListener(breakpointChecker); // kickstart

  breakpointChecker();
})();

var marketMobile = function marketMobile() {
  var btn = document.querySelectorAll('.market-nav-mobile__btn');
  var tradeBlock = document.querySelector('.trade-form-box');
  var wrapper = document.querySelector('.market-trade-outer');

  if (btn) {
    btn.forEach(function (el) {
      el.addEventListener('click', function () {
        tradeBlock.classList.add('trade-form-box--opened');
        wrapper.classList.add('market-trade-outer--active');
      });
    });
  }

  if (wrapper) {
    wrapper.addEventListener('click', function () {
      tradeBlock.classList.remove('trade-form-box--opened');
      wrapper.classList.remove('market-trade-outer--active');
    });
  }
};

var tableDropdownRows = function tableDropdownRows() {
  var btn = document.querySelectorAll('.td--dropdown');
  btn.forEach(function (el) {
    el.addEventListener('click', function (evt) {
      evt.currentTarget.classList.toggle('td--dropdown-active');
      evt.currentTarget.closest('.tr').querySelectorAll('.td--full').forEach(function (elInner) {
        elInner.classList.toggle('td--full-active');
      });
    });
  });
};

sandwich();
notification();
select();
faq();
marketMobile();
tableDropdownRows();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibm90aWZpY2F0aW9uIiwic2hvd0J0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIm5vdGlmaWNhdGlvbnMiLCJmb3JFYWNoIiwiZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZWxlY3QiLCJjdXJyZW50IiwiY2xvc2VzdCIsInRvZ2dsZSIsImZhcSIsIlNsaWRlciIsInJhbmdlRWxlbWVudHMiLCJ1cGRhdGVTbGlkZXIiLCJiaW5kIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJwZXJjZW50YWdlIiwibmV3VmFsdWUiLCJzdHlsZSIsImJhY2tncm91bmQiLCJnZW5lcmF0ZUJhY2tncm91bmQiLCJzbGlkZXIiLCJpbml0Iiwic2FuZHdpY2giLCJvcGVuQnRuIiwicXVlcnlTZWxlY3RvciIsImNsb3NlQnRuIiwid3JhcHBlciIsIm1lbnUiLCJyZW1vdmUiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiYnJlYWtwb2ludCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJteVN3aXBlciIsImJyZWFrcG9pbnRDaGVja2VyIiwibWF0Y2hlcyIsInVuZGVmaW5lZCIsImRlc3Ryb3kiLCJzbGlkZXJBZHZhbnRhZ2VzIiwiaW5uZXJXaWR0aCIsIlN3aXBlciIsInNwYWNlQmV0d2VlbiIsImxvb3AiLCJzbGlkZXNQZXJWaWV3IiwiYnJlYWtwb2ludHMiLCJhZGRMaXN0ZW5lciIsIm1hcmtldE1vYmlsZSIsImJ0biIsInRyYWRlQmxvY2siLCJlbCIsInRhYmxlRHJvcGRvd25Sb3dzIiwiZXZ0IiwiY3VycmVudFRhcmdldCIsImVsSW5uZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBTUEsWUFBWSxHQUFHLFNBQWZBLFlBQWUsR0FBTTtBQUMxQixNQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsb0JBQTFCLENBQWhCO0FBQ0EsTUFBTUMsYUFBYSxHQUFHRixRQUFRLENBQUNDLGdC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QUFBLEdBQUcsQ0FBQ0MsYUFBSixDQUFrQnBELFNBQWxCLENBQTRCSyxNQUE1QixDQUFtQyxxQkFBbkM7QUFDQThDLE1BQUFBLEdBQUcsQ0FBQ0MsYUFBSixDQUFrQmhELE9BQWxCLENBQTBCLEtBQTFCLEVBQWlDVCxnQkFBakMsQ0FBa0QsV0FBbEQsRUFBK0RFLE9BQS9ELENBQXVFLFVBQUN3RCxPQUFELEVBQWE7QUFDbkZBLFFBQUFBLE9BQU8sQ0FBQ3JELFNBQVIsQ0FBa0JLLE1BQWxCLENBQXlCLGlCQUF6QjtBQUNBLE9BRkQ7QUFHQSxLQUxEO0FBTUEsR0FQRDtBQVFBLENBWEQ7O0FBYUFnQixRQUFRO0FBQ1I3QixZQUFZO0FBQ1pVLE1BQU07QUFDTkksR0FBRztBQUNId0MsWUFBWTtBQUNaSSxpQkFBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub3RpZmljYXRpb24gPSAoKSA9PiB7XG5cdGNvbnN0IHNob3dCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2hvdy1ub3RpZmljYXRpb24nKTtcblx0Y29uc3Qgbm90aWZpY2F0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RpZmljYXRpb24nKTtcblxuXHRzaG93QnRuLmZvckVhY2goKGUpID0+IHtcblx0XHRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0bm90aWZpY2F0aW9ucy5mb3JFYWNoKChlKSA9PiB7XG5cdFx0XHRcdGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBzZWxlY3QgPSAoKSA9PiB7XG5cdGNvbnN0IGN1cnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0X19jdXJyZW50Jyk7XG5cdGN1cnJlbnQuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRlLmNsb3Nlc3QoJy5zZWxlY3QnKS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jb25zdCBmYXEgPSAoKSA9PiB7XG5cdGNvbnN0IGN1cnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmFxX19oZWFkZXItYnRuJyk7XG5cdGN1cnJlbnQuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRlLmNsb3Nlc3QoJy5mYXEnKS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5jbGFzcyBTbGlkZXIge1xuXHRjb25zdHJ1Y3RvcihyYW5nZUVsZW1lbnRzKSB7XG5cdFx0dGhpcy5yYW5nZUVsZW1lbnRzID0gcmFuZ2VFbGVtZW50cztcblxuXHRcdC8vIEF0dGFjaCBhIGxpc3RlbmVyIHRvIFwiY2hhbmdlXCIgZXZlbnRcblx0XHR0aGlzLnJhbmdlRWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdFx0ZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMudXBkYXRlU2xpZGVyLmJpbmQodGhpcykpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gSW5pdGlhbGl6ZSB0aGUgc2xpZGVyXG5cdGluaXQoKSB7XG5cdFx0dGhpcy51cGRhdGVTbGlkZXIoKVxuXHR9XG5cblx0Z2VuZXJhdGVCYWNrZ3JvdW5kKHZhbHVlLCBtaW4sIG1heCkge1xuXHRcdGNvbnN0IHBlcmNlbnRhZ2UgPSAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikgKiAxMDA7XG5cdFx0cmV0dXJuIGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICMwMGRhODMsICMwMGRhODMgJHtwZXJjZW50YWdlfSUsICNFNkU4RUMgJHtwZXJjZW50YWdlfSUsICNFNkU4RUMgMTAwJSlgXG5cdH1cblxuXHR1cGRhdGVTbGlkZXIobmV3VmFsdWUpIHtcblx0XHR0aGlzLnJhbmdlRWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xuXHRcdFx0ZS5zdHlsZS5iYWNrZ3JvdW5kID0gdGhpcy5nZW5lcmF0ZUJhY2tncm91bmQoZS52YWx1ZSwgZS5taW4sIGUubWF4KTtcblx0XHR9KVxuXHR9XG59XG5cbmNvbnN0IHJhbmdlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmFuZ2Utc2xpZGVyX19yYW5nZScpO1xuXG5pZiAocmFuZ2VFbGVtZW50cykge1xuXHRjb25zdCBzbGlkZXIgPSBuZXcgU2xpZGVyKHJhbmdlRWxlbWVudHMpXG5cblx0c2xpZGVyLmluaXQoKVxufVxuXG5jb25zdCBzYW5kd2ljaCA9ICgpID0+IHtcblx0Y29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zYW5kd2ljaF9fb3Blbi1idG4nKTtcblx0Y29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2FuZHdpY2hfX2Nsb3NlLWJ0bicpO1xuXHRjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoX19tYWluJyk7XG5cdGNvbnN0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2FuZHdpY2hfX2NvbnRlbnQnKTtcblxuXHRvcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnc2FuZHdpY2hfX21haW4tLWFjdGl2ZScpO1xuXHRcdG1lbnUuY2xhc3NMaXN0LmFkZCgnc2FuZHdpY2hfX2NvbnRlbnQtLWFjdGl2ZScpO1xuXHR9KTtcblxuXHRjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHR3cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ3NhbmR3aWNoX19tYWluLS1hY3RpdmUnKTtcblx0XHRtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ3NhbmR3aWNoX19jb250ZW50LS1hY3RpdmUnKTtcblx0fSk7XG5cblx0d3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0aWYgKGUudGFyZ2V0LmRhdGFzZXQuc2FuZHdpY2ggPT09ICd3cmFwcGVyJykge1xuXHRcdFx0d3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdzYW5kd2ljaF9fbWFpbi0tYWN0aXZlJyk7XG5cdFx0XHRtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ3NhbmR3aWNoX19jb250ZW50LS1hY3RpdmUnKTtcblx0XHR9XG5cdH0pO1xufTtcblxuKGZ1bmN0aW9uICgpIHtcblx0Ly8gYnJlYWtwb2ludCB3aGVyZSBzd2lwZXIgd2lsbCBiZSBkZXN0cm95ZWRcblx0Ly8gYW5kIHN3aXRjaGVzIHRvIGEgZHVhbC1jb2x1bW4gbGF5b3V0XG5cdGNvbnN0IGJyZWFrcG9pbnQgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogNzY5cHgpJyk7XG5cdC8vIGtlZXAgdHJhY2sgb2Ygc3dpcGVyIGluc3RhbmNlcyB0byBkZXN0cm95IGxhdGVyXG5cdGxldCBteVN3aXBlcjtcblx0Y29uc3QgYnJlYWtwb2ludENoZWNrZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gaWYgbGFyZ2VyIHZpZXdwb3J0IGFuZCBtdWx0aS1yb3cgbGF5b3V0IG5lZWRlZFxuXHRcdGlmIChicmVha3BvaW50Lm1hdGNoZXMgPT09IHRydWUpIHtcblx0XHRcdC8vIGNsZWFuIHVwIG9sZCBpbnN0YW5jZXMgYW5kIGlubGluZSBzdHlsZXMgd2hlbiBhdmFpbGFibGVcblx0XHRcdGlmIChteVN3aXBlciAhPT0gdW5kZWZpbmVkKSBteVN3aXBlci5kZXN0cm95KHRydWUsIHRydWUpO1xuXHRcdFx0Ly8gb3IvYW5kIGRvIG5vdGhpbmdcblxuXHRcdFx0Ly8gZWxzZSBpZiBhIHNtYWxsIHZpZXdwb3J0IGFuZCBzaW5nbGUgY29sdW1uIGxheW91dCBuZWVkZWRcblx0XHR9IGVsc2UgaWYgKGJyZWFrcG9pbnQubWF0Y2hlcyA9PT0gZmFsc2UpIHtcblx0XHRcdC8vIGZpcmUgc21hbGwgdmlld3BvcnQgdmVyc2lvbiBvZiBzd2lwZXJcblx0XHRcdHJldHVybiBzbGlkZXJBZHZhbnRhZ2VzKCk7XG5cdFx0fVxuXHR9O1xuXG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAzMjAgJiYgbXlTd2lwZXIpIHtcblx0XHRteVN3aXBlci5kZXN0cm95KGZhbHNlKVxuXHR9XG5cblx0Y29uc3Qgc2xpZGVyQWR2YW50YWdlcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRteVN3aXBlciA9IG5ldyBTd2lwZXIoJy5zdGF0cy1wYW5lbF9fY29udGFpbmVyJywge1xuXHRcdFx0c3BhY2VCZXR3ZWVuOiAxNixcblx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAxLFxuXHRcdFx0YnJlYWtwb2ludHM6IHtcblx0XHRcdFx0NDIwOiB7XG5cdFx0XHRcdFx0c2xpZGVzUGVyVmlldzogMixcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQ2NjA6IHtcblx0XHRcdFx0XHRzbGlkZXNQZXJWaWV3OiAzLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fTtcblx0Ly8ga2VlcCBhbiBleWUgb24gdmlld3BvcnQgc2l6ZSBjaGFuZ2VzXG5cdGJyZWFrcG9pbnQuYWRkTGlzdGVuZXIoYnJlYWtwb2ludENoZWNrZXIpO1xuXHQvLyBraWNrc3RhcnRcblx0YnJlYWtwb2ludENoZWNrZXIoKTtcbn0oKSk7XG5cbmNvbnN0IG1hcmtldE1vYmlsZSA9ICgpID0+IHtcblx0Y29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1hcmtldC1uYXYtbW9iaWxlX19idG4nKTtcblx0Y29uc3QgdHJhZGVCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmFkZS1mb3JtLWJveCcpO1xuXHRjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hcmtldC10cmFkZS1vdXRlcicpO1xuXG5cdGlmIChidG4pIHtcblx0XHRidG4uZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHR0cmFkZUJsb2NrLmNsYXNzTGlzdC5hZGQoJ3RyYWRlLWZvcm0tYm94LS1vcGVuZWQnKTtcblx0XHRcdFx0d3JhcHBlci5jbGFzc0xpc3QuYWRkKCdtYXJrZXQtdHJhZGUtb3V0ZXItLWFjdGl2ZScpO1xuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdGlmICh3cmFwcGVyKSB7XG5cdFx0d3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRyYWRlQmxvY2suY2xhc3NMaXN0LnJlbW92ZSgndHJhZGUtZm9ybS1ib3gtLW9wZW5lZCcpO1xuXHRcdFx0d3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdtYXJrZXQtdHJhZGUtb3V0ZXItLWFjdGl2ZScpO1xuXHRcdH0pO1xuXHR9XG59O1xuXG5jb25zdCB0YWJsZURyb3Bkb3duUm93cyA9ICgpID0+IHtcblx0Y29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRkLS1kcm9wZG93bicpO1xuXG5cdGJ0bi5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuXHRcdFx0ZXZ0LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgndGQtLWRyb3Bkb3duLWFjdGl2ZScpO1xuXHRcdFx0ZXZ0LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnRyJykucXVlcnlTZWxlY3RvckFsbCgnLnRkLS1mdWxsJykuZm9yRWFjaCgoZWxJbm5lcikgPT4ge1xuXHRcdFx0XHRlbElubmVyLmNsYXNzTGlzdC50b2dnbGUoJ3RkLS1mdWxsLWFjdGl2ZScpO1xuXHRcdFx0fSlcblx0XHR9KTtcblx0fSk7XG59XG5cbnNhbmR3aWNoKCk7XG5ub3RpZmljYXRpb24oKTtcbnNlbGVjdCgpO1xuZmFxKCk7XG5tYXJrZXRNb2JpbGUoKTtcbnRhYmxlRHJvcGRvd25Sb3dzKCk7XG4iXSwiZmlsZSI6Im1haW4ubWluLmpzIn0=
